import React from "react";
import { FaSearch } from "react-icons/fa";
import { ChevronDown } from "lucide-react";
import { useNavigate } from "react-router-dom";
import ComLogo from "../../assets/ComLogo.png"

const DashHeader = () => {
  const firstName = sessionStorage.getItem("firstname") || "Guest";
  const lastName = sessionStorage.getItem("lastname") || "";

  const navigate = useNavigate();

  const [showModal, setShowModal] = React.useState(false);

  const handleSignOut = () => {
    localStorage.clear();
    navigate("/");
  };

  return (
    <>
      <header className="flex items-center justify-between px-8 h-20 bg-white shadow-md">
        <div className="flex items-center space-x-10 bg-[#24293c] p-2 rounded-lg">
          <img
            src={ComLogo}
            alt="GoPhygital Logo"
            className="h-15 w-auto cursor-pointer"
            onClick={() => navigate("/")}
          />

          {/* <svg width="173" height="31" viewBox="0 0 173 31" fill="none" xmlns="http://www.w3.org/2000/svg" onClick={() => navigate("/")}
          >
            <g clip-path="url(#clip0_1_12)">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M42.3083 1.85299H33.0312V14.3579H37.9649V10.6408H41.9632C45.4267 10.6408 47.7544 9.52016 47.7544 6.16925C47.7655 3.36202 46.0392 1.85299 42.3083 1.85299ZM41.2504 7.45637H37.9649V5.09296H41.2504C42.3306 5.09296 42.843 5.43692 42.843 6.21364C42.843 7.0791 42.3306 7.45637 41.2504 7.45637ZM56.4635 4.59365C54.5479 4.59365 53.5456 5.39254 53.0778 6.025V1.86408H48.6676V14.369H53.0778V9.38698C53.0778 8.31073 53.3674 7.54509 54.6593 7.54509C55.9734 7.54509 56.1851 8.33292 56.1851 9.38698V14.369H60.5953V8.48823C60.5841 5.88075 59.2032 4.59365 56.4635 4.59365ZM69.3158 4.83776L67.3779 9.98622L65.2951 4.83776H60.7623L65.3399 14.2914L63.6354 17.3427H68.1241L73.8592 4.83776H69.3158ZM81.8004 4.83776H86.21V13.6478C86.21 17.3427 82.9473 17.6867 79.3722 17.6867C75.1735 17.6867 73.6364 16.3774 73.5586 14.4467H77.5905C77.7685 15.068 78.6708 15.1457 79.361 15.1457C80.3971 15.1457 81.778 15.179 81.778 13.6478V12.8267C81.1096 13.4369 80.1407 13.7698 78.7822 13.7698C75.8194 13.7698 73.2917 12.5049 73.2917 9.26497C73.2917 6.03609 75.4853 4.58254 78.4368 4.58254C79.9291 4.58254 81.0206 4.9598 81.778 5.69212V4.83776H81.8004ZM79.8289 11.1513C81.3548 11.1513 82.1451 10.5299 82.1451 9.27607C82.1451 8.01114 81.2988 7.37868 79.8289 7.37868C78.3367 7.37868 77.5905 8.08883 77.5905 9.27607C77.5905 10.4522 78.3031 11.1513 79.8289 11.1513ZM89.4958 4.12763C90.8213 4.12763 91.7566 3.37311 91.7566 2.0749C91.7566 0.754509 90.8213 0 89.4958 0C88.1703 0 87.235 0.754509 87.235 2.0749C87.235 3.37311 88.1703 4.12763 89.4958 4.12763ZM87.2903 14.369H91.7006V4.84885H87.2903V14.369ZM101.401 7.22337V4.84885H98.6057V2.38559H94.1954V4.84885H92.425V7.22337H94.1954V10.4078C94.1954 13.8253 95.5097 14.5355 99.419 14.5355C100.087 14.5355 100.822 14.4689 101.412 14.3912V11.5396C99.0288 11.6616 98.6169 11.5729 98.6169 10.3967V7.21227H101.401V7.22337ZM108.217 4.59365C105.021 4.59365 102.982 5.41474 102.638 7.73376H106.58C106.702 7.14569 107.248 6.94592 108.217 6.94592C109.475 6.94592 109.776 7.38978 109.776 8.26634V8.49933C103.461 8.19975 102.114 9.52016 102.114 11.7282C102.114 13.6922 103.562 14.6242 106.279 14.6242C108.006 14.6242 109.13 14.0472 109.776 13.4037V14.3468H114.186V8.25524C114.197 5.12623 111.38 4.59365 108.217 4.59365ZM109.787 11.7615C109.309 12.2053 108.551 12.5271 107.594 12.5271C107.014 12.5271 106.357 12.4051 106.357 11.6727C106.357 10.6852 107.582 10.6187 109.787 10.7296V11.7615ZM115.267 1.17615V14.3579H119.677V1.17615H115.267ZM122.172 12.1831C121.492 12.1831 120.936 12.7158 120.936 13.3926C120.936 14.0694 121.492 14.6132 122.172 14.6132C122.84 14.6132 123.397 14.0805 123.397 13.3926C123.397 12.7047 122.84 12.1831 122.172 12.1831ZM137.941 4.83776H140.269L136.505 14.3579H134.356L131.738 7.45637L129.143 14.3579H126.994L123.23 4.83776H125.558L128.119 11.8281L130.758 4.83776H132.752L135.391 11.8281L137.941 4.83776ZM146.105 4.57145C143.309 4.57145 140.637 6.09157 140.637 9.60894C140.637 13.1263 143.309 14.6353 146.105 14.6353C148.9 14.6353 151.595 13.1374 151.595 9.60894C151.584 6.09157 148.9 4.57145 146.105 4.57145ZM146.105 13.0043C143.543 13.0043 142.663 11.2733 142.663 9.60894C142.663 7.93346 143.543 6.19142 146.105 6.19142C148.667 6.19142 149.546 7.92236 149.546 9.60894C149.546 11.2733 148.667 13.0043 146.105 13.0043ZM159.425 4.57145C157.365 4.57145 156.039 5.92514 155.605 6.6242V4.83776H153.378V14.3579H155.605V9.52016C155.605 8.03334 156.518 6.64634 158.946 6.64634C159.558 6.64634 160.037 6.71293 160.416 6.82391H160.483V4.64911C160.104 4.59364 159.859 4.57145 159.425 4.57145ZM169.816 14.369H172.433L168.123 8.61031L172.199 4.83776H169.437L164.503 9.46467V1.85299H162.276V14.3579H164.503V11.9612L166.564 10.0305L169.816 14.369Z" fill="#141414" />
              <path fill-rule="evenodd" clip-rule="evenodd" d="M27.9536 16.2575H14.4014V2.60077C14.4014 1.60904 13.5978 0.808389 12.6024 0.808389C11.8809 0.808389 11.2599 1.22692 10.9768 1.83651C9.87189 1.15413 8.58422 0.762894 7.19612 0.762894C3.22366 0.762894 0 3.97463 0 7.93241C0 11.8902 3.22366 15.102 7.19612 15.102C8.51116 15.102 9.74401 14.7471 10.8034 14.1284C10.8034 14.8563 10.8034 15.566 10.8034 16.2575H7.58885C7.46097 16.2483 7.324 16.2483 7.19612 16.2483C3.22366 16.2483 0 19.4601 0 23.4179C0 27.3757 3.22366 30.5874 7.19612 30.5874C11.1686 30.5874 14.3923 27.3757 14.3923 23.4179C14.3923 23.2268 14.3831 23.0357 14.3649 22.8538H14.4106V19.8513H27.8897L27.9536 16.2575ZM7.18703 11.5172C5.20534 11.5172 3.58894 9.9068 3.58894 7.93241C3.58894 5.95807 5.20534 4.34766 7.18703 4.34766C9.16869 4.34766 10.7851 5.95807 10.7851 7.93241C10.7851 9.91585 9.17784 11.5172 7.18703 11.5172ZM10.8034 23.1085C10.8034 23.2177 10.7942 23.3178 10.7851 23.4179C10.7851 25.3922 9.16869 27.0026 7.18703 27.0026C5.20534 27.0026 3.58894 25.3922 3.58894 23.4179C3.58894 21.5072 5.08662 19.9514 6.977 19.8422V19.8513H10.8034C10.8034 21.671 10.8034 22.8538 10.8034 22.8538H10.8125C10.7942 22.9357 10.8034 23.0266 10.8034 23.1085ZM22.3647 4.34766C24.3464 4.34766 25.9628 5.95807 25.9628 7.93241C25.9628 9.9068 24.3464 11.5172 22.3647 11.5172C20.383 11.5172 18.7666 9.9068 18.7666 7.93241C18.7666 5.95807 20.3739 4.34766 22.3647 4.34766ZM22.3647 0.762894C26.3372 0.762894 29.5608 3.97463 29.5608 7.93241C29.5608 11.8902 26.3372 15.102 22.3647 15.102C18.3922 15.102 15.1686 11.8902 15.1686 7.93241C15.1686 3.97463 18.3922 0.762894 22.3647 0.762894Z" fill="#C72031" />
              <path fill-rule="evenodd" clip-rule="evenodd" d="M30.3283 17.6783C29.6616 17.187 28.4927 16.3318 27.7256 15.7676C27.5795 15.6676 27.3968 15.6494 27.2325 15.7312C27.0772 15.8131 26.9768 15.9678 26.9768 16.1498C26.9768 16.1862 26.9768 16.2226 26.9768 16.259H14.3379V19.8528H26.9768C26.9768 19.8892 26.9768 19.9347 26.9768 19.9711C26.9768 20.144 27.0772 20.3078 27.2325 20.3897C27.3878 20.4715 27.5795 20.4533 27.7256 20.3442C28.4927 19.78 29.6616 18.9248 30.3283 18.4335C30.447 18.3425 30.52 18.206 30.52 18.0604C30.52 17.9149 30.447 17.7693 30.3283 17.6783Z" fill="#C72031" />
            </g>
            <defs>
              <clipPath id="clip0_1_12">
                <rect width="173" height="31" fill="white" />
              </clipPath>
            </defs>
          </svg> */}


          {/* <nav className="flex items-center space-x-8 text-gray-700 font-medium">
            <button className="bg-[#eb5e28] hover:bg-[#cf4c1e] text-white font-semibold px-6 py-2 rounded-md">
              Setup
            </button>
          </nav> */}
        </div>

        <div className="flex items-center space-x-6">
          <div className="relative">
            {/* <input
              type="text"
              placeholder="Search"
              className="pl-8 pr-3 py-1.5 border border-gray-300 rounded-md text-gray-700 focus:outline-none focus:ring-1 focus:ring-gray-400"
            />
            <FaSearch className="absolute top-1/2 left-2 transform -translate-y-1/2 text-gray-400" /> */}
          </div>

          <div
            className="flex items-center text-black font-medium cursor-pointer"

          >
            {/* {`${firstName} ${lastName}`} <ChevronDown size={16} className="ml-1" /> */}
          </div>

          <div className="w-7 h-7 rounded-full border border-[#eb5e28] text-[#eb5e28] flex items-center justify-center text-sm font-bold " onClick={() => setShowModal(true)}>
            {firstName?.[0]?.toUpperCase() || "U"}
          </div>
        </div>
      </header>

      {showModal && (
        <div className="fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50">
          <div className="bg-white rounded-lg shadow-lg p-6 min-w-[300px]">
            <h2 className="text-lg font-semibold mb-4">Sign Out</h2>
            <p className="mb-6">Are you sure you want to sign out?</p>
            <div className="flex justify-end space-x-3">
              <button
                className="px-4 py-2 rounded bg-gray-200 hover:bg-gray-300"
                onClick={() => setShowModal(false)}
              >
                Cancel
              </button>
              <button
                className="px-4 py-2 rounded bg-[#eb5e28] text-white hover:bg-[#cf4c1e]"
                onClick={handleSignOut}
              >
                Sign Out
              </button>
            </div>
          </div>
        </div>
      )}
    </>
  );
};

export default DashHeader;
